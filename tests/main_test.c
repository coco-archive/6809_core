#include <stdarg.h>
#include <stddef.h>
#include <setjmp.h>
#include <cmocka.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#include "consts.h"
#include "types.h"
#include "memory.h"
#include "core.h"
#include "tests/test.h"

const char* root_test_path = "/build/tests/program/";
const struct CMUnitTest tests[] = {
    cmocka_unit_test_setup_teardown(core_init_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_e_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_f_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_h_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_i_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_n_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_z_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_v_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_c_flag, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_all_flags, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_load_memory, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_load_memory_too_big, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(test_load_memory_too_far, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(run_cycles_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(run_cycles_multiple_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(run_cycles_notimpl_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_nmi_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_nmi_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_firq_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_firq_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_irq_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(process_interrupts_irq_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_byte_from_memory_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_word_from_memory_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_byte_handler_immedidate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_byte_handler_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_byte_handler_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_word_handler_immedidate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_word_handler_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(read_word_handler_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(memory_clear_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_basic_x_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_basic_y_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_basic_u_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_basic_s_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_5bit_x_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_5bit_positive_x_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_8bit_y_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_16bit_s_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_16bit_s_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_8bit_s_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_constant_indirect_u_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_a_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_b_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_d_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_a_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_b_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_accumulator_d_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_inc_1_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_inc_2_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_dec_1_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_dec_2_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_inc_2_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_dec_2_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_pc_offset_8_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_pc_offset_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_pc_offset_8_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_pc_offset_16_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_memory_address_from_postbyte_indexed_extended_indirect_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decode_source_target_postbyte_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decode_source_target_postbyte_2_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decode_source_target_postbyte_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_reg_value_8_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_reg_value_8_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(set_reg_value_8_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_reg_value_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(get_reg_value_16_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(set_reg_value_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pull_byte_from_stack_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_byte_to_stack_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_byte_to_stack_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_pull_byte_stack_combo_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_byte_to_stack_u_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pull_word_from_stack_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_word_to_stack_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_word_to_stack_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_pull_word_stack_combo_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(push_word_to_stack_u_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(sam_read_byte_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sam_write_byte_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sam_memory_handler_byte_from_core_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sam_not_redirected_byte_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sam_redirected_byte_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(nop_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(nop_pc_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(abx_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(abx_test_add, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(abx_test_unsigned, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asla_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asla_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(aslb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(aslb_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asra_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asra_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asra_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asrb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asrb_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asrb_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(clra_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(clrb_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(coma_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(comb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(coma_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(comb_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(daa_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(daa_not_adjusted_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(deca_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(deca_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decb_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(deca_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(decb_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inca_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(incb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inca_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(incb_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inca_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(incb_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inca_multiple_pc_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsra_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsra_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsra_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsrb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsrb_flags_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsrb_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(mul_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(mul_signed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(mul_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(nega_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(negb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(nega_minusone_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(negb_minusone_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rola_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rolb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rola_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rolb_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rola_rotate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rolb_rotate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rora_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rora_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rorb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rorb_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rora_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rorb_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rora_rotate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rorb_rotate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sex_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sex_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sex_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tsta_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tstb_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tsta_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tstb_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tsta_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tstb_zero_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(adca_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adca_immediate_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adca_immediate_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adca_immediate_carry_flag_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_carry_flag_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adca_immediate_half_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_half_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adca_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_carry_flag_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_carry_flag_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_half_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_half_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_immediate_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_immediate_carry_flag_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(anda_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(anda_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andb_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andcc_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andcc_immediate_e_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_immediate_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_immediate_negative_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_immediate_nocarry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_immediate_carry, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_immediate_overflow, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_immediate_zero, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cwai_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cwai_basic_irq_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eora_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eorb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eora_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eorb_immediate_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_basic_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_basic_16_to_8_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_basic_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_a_d_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_cc_x_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_cc_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(exg_x_invalid_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lda_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldb_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldd_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lds_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldu_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldx_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldy_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ora_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(orb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(orcc_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshs_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshu_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshs_nothing_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshu_nothing_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshs_one_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pshu_one_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(puls_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pulu_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(puls_one_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pulu_one_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(puls_nothing_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(pulu_nothing_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rti_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rti_basic_firq_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rts_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sub16d_immediate_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sub16d_carry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sub16d_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi2_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi2_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi3_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(swi3_with_rti_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sync_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sync_basic_resume_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sync_basic_irq_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_basic_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_basic_16_to_8_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_basic_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_a_d_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_cc_x_8_to_16_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tfr_cc_invalid_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(adca_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(anda_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asl_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asr_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(clr_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_direct_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_direct_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_direct_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_direct_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_direct_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_direct_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_direct_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(com_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(dec_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eora_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eorb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inc_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jmp_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jsr_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lda_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldd_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lds_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldu_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldx_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldy_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsr_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(neg_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ora_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(orb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rol_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ror_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sta_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(std_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sts_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stu_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stx_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sty_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subd_direct_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tst_direct_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(adca_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(anda_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asl_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asr_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(clr_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_extended_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_extended_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_extended_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_extended_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_extended_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_extended_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_extended_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(com_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsr_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(dec_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eora_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eorb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inc_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jmp_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jsr_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lda_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldd_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lds_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldu_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldx_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldy_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(neg_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ora_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(orb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rol_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ror_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sta_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(std_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sts_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stu_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stx_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sty_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subd_extended_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tst_extended_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(adca_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adcb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(adda_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(addd_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(anda_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(andb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asl_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(asr_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bita_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bitb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(clr_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpa_indexed_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpb_indexed_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpd_indexed_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmps_indexed_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpu_indexed_nocarry_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpx_indexed_overflow_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(cmpy_indexed_zero_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(com_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(dec_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eora_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(eorb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(inc_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jmp_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(jsr_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lda_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldd_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lds_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldu_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldx_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ldy_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(leas_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(leau_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(leax_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(leay_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lsr_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(neg_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ora_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(orb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(rol_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ror_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbca_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sbcb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sta_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(std_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sts_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stu_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(stx_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(sty_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(suba_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subb_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(subd_indexed_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(tst_indexed_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(bcc_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bcc_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bcc_negative_offset_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bcc_negative_offset_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcc_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcc_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcc_negative_offset_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcc_negative_offset_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bcs_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bcs_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcs_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbcs_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(beq_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(beq_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbeq_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbeq_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bge_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bge_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbge_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbge_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bgt_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bgt_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbgt_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbgt_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bhi_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bhi_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ble_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(ble_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lble_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lble_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bls_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bls_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbls_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbls_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(blt_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(blt_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lblt_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lblt_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bmi_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bmi_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbmi_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbmi_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bne_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bne_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbne_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbne_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bpl_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bpl_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbpl_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbpl_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bra_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbra_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(brn_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbrn_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bsr_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbsr_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bvc_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bvc_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbvc_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbvc_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bvs_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(bvs_non_branch_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbvs_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(lbvs_non_branch_test, test_setup, test_teardown),

    cmocka_unit_test_setup_teardown(init_from_decb_memory_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_run_cycles_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_preamble_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_preamble_2_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_postamble_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_preamble_length_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_postamble_too_short_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_postamble_too_long_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_memory_invalid_postamble_byte_wrong_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_file_basic_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_file_basic_run_cycles_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(init_from_decb_file_error_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(program_8_bit_addition_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(program_shift_left_1_bit_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(program_mask_off_most_significant_four_bits_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(program_find_larger_of_two_numbers_test, test_setup, test_teardown),
    cmocka_unit_test_setup_teardown(program_table_of_squares_test, test_setup, test_teardown)
};

char* get_test_program_path(const char* prog_name) {
    if (!prog_name) {
        return NULL;
    }

    /* const char* cur_path = getenv("PWD"); */
    const char* cur_path = "/Users/simon/Dropbox/Programming/c/6809_core";
    int path_length = strlen(cur_path) +
        strlen(root_test_path) +
        strlen(prog_name);
    char* final_test_path = malloc(path_length);
    memset(final_test_path, '\0', path_length);

    strncat(final_test_path, cur_path, strlen(cur_path));
    strncat(final_test_path, root_test_path, strlen(root_test_path));
    strncat(final_test_path, prog_name, strlen(prog_name));

    return final_test_path;
}

void perform_memory_checks(struct test_check* checks, size_t len) {
    if (!checks) {
        return;
    }

    for (int i=0; i<len; i++) {
        assert_int_equal(read_byte_from_memory(checks[i].address),
                         checks[i].value);
    }
}

int main(void) {
    return cmocka_run_group_tests(tests, NULL, NULL);
}
